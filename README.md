# pslocate

The pslocate project aims to provide utilities for finding perfSONAR Measurement points. It currently installs a command called "pslocate" that takes a list of IP addresses and attempts to find the nearest measurement point to each IP. It bases it's decision off of indexed traceroute results stored in an elasticsearch instance of a perfSONAR Lookup Service cache.

Also, this project contains a beta REST interface that can be configured by issuing a few manual commands and is not currently included in any packages developed by the project. 

##Getting the Code
You may checkout the code with the following command:

```
git clone https://github.com/perfsonar/pslocate.git
```
##Building and Installing

To install the code on your system run:

```bash
pip install -r requirements.txt
python setup.py install
```

##Running the pslocate command

The pslocate command should be installed in you PATH. Simply run the pslocate command and give it a list of IP addresses:
```bash
pslocate IP1 [IP2...]
```
An example set of output is shown below:
```bash
pslocate 198.128.151.1 198.129.100.1 134.55.37.49 134.55.50.202 134.55.49.58 134.55.43.81 149.165.254.121 149.165.255.194 149.165.254.234 134.68.3.34 134.68.3.147 140.182.44.92
1) esnetrt5-zone1.es.net(198.128.151.1):
    ps-deb.es.net(198.128.151.15): 1 hop(s) away
    antg-dev.es.net(198.128.151.17): 1 hop(s) away

2) lblmr2-esnetrt5.es.net(198.129.100.1):
    ps-deb.es.net(198.128.151.15): 2 hop(s) away
    antg-dev.es.net(198.128.151.17): 2 hop(s) away

3) sacrcr5-ip-a-lblmr2.es.net(134.55.37.49):
    lbl-owamp.es.net(198.129.252.142): 2 hop(s) away
    lbl-pt1.es.net(198.129.254.30): 2 hop(s) away

4) denvcr5-ip-a-sacrcr5.es.net(134.55.50.202):
    lsvn-owamp.es.net(198.129.254.102): 2 hop(s) away
    lsvn-pt1.es.net(198.129.254.94): 2 hop(s) away
    kans-pt1.es.net(198.129.254.62): 2 hop(s) away

5) kanscr5-ip-a-denvcr5.es.net(134.55.49.58):
    kans-pt1.es.net(198.129.254.62): 1 hop(s) away

6) chiccr5-ip-a-kanscr5.es.net(134.55.43.81):
    chic-owamp.es.net(198.124.252.154): 1 hop(s) away
    chic-pt1.es.net(198.124.252.141): 1 hop(s) away

7) ae-1.2300.rtr.ictc.indiana.gigapop.net(149.165.254.121):
    ps.iu.xsede.org(149.165.227.125): 2 hop(s) away

8) et-7-1-0.1.rtr.ll.indiana.gigapop.net(149.165.255.194):
    perfsonar-dev5.grnoc.iu.edu(140.182.44.177): 4 hop(s) away
    perfsonar-dev.grnoc.iu.edu(140.182.44.162): 4 hop(s) away
    ps-test.ctc.grnoc.iu.edu(140.182.44.92): 4 hop(s) away

9) 149.165.254.234(149.165.254.234):
    perfsonar-dev5.grnoc.iu.edu(140.182.44.177): 3 hop(s) away
    perfsonar-dev.grnoc.iu.edu(140.182.44.162): 3 hop(s) away
    ps-test.ctc.grnoc.iu.edu(140.182.44.92): 3 hop(s) away

10) ae-0.0.br2.ictc.net.uits.iu.edu(134.68.3.34):
    perfsonar-dev5.grnoc.iu.edu(140.182.44.177): 2 hop(s) away
    perfsonar-dev.grnoc.iu.edu(140.182.44.162): 2 hop(s) away
    ps-test.ctc.grnoc.iu.edu(140.182.44.92): 2 hop(s) away

11) ae-10.902.dcr.ictc.net.uits.iu.edu(134.68.3.147):
    perfsonar-dev5.grnoc.iu.edu(140.182.44.177): 1 hop(s) away
    perfsonar-dev.grnoc.iu.edu(140.182.44.162): 1 hop(s) away
    ps-test.ctc.grnoc.iu.edu(140.182.44.92): 1 hop(s) away

12) ps-test.ctc.grnoc.iu.edu(140.182.44.92):
    ps-test.ctc.grnoc.iu.edu(140.182.44.92): 0 hop(s) away
```
You can also request JSON output with the `-o json` option:
```bash
pslocate -o json 198.128.151.1 198.129.100.1 134.55.37.49 134.55.50.202 134.55.49.58 134.55.43.81 149.165.254.121 149.165.255.194 149.165.254.234 134.68.3.34 134.68.3.147 140.182.44.92
{"134.68.3.34": [{"score": "2", "address": "140.182.44.177"}, {"score": "2", "address": "140.182.44.162"}, {"score": "2", "address": "140.182.44.92"}, {"score": "3", "address": "140.182.45.184"}, {"score": "3", "address": "140.182.45.175"}, {"score": "5", "address": "129.79.9.85"}, {"score": "6", "address": "192.41.230.62"}, {"score": "10", "address": "207.75.164.240"}, {"score": "10", "address": "198.128.151.15"}, {"score": "10", "address": "198.128.151.17"}, {"score": "12", "address": "131.188.81.85"}], "134.55.43.81": [{"score": "1", "address": "198.124.252.154"}, {"score": "1", "address": "198.124.252.141"}, {"score": "2", "address": "198.124.252.126"}, {"score": "2", "address": "198.124.252.121"}, {"score": "2", "address": "198.124.238.138"}, {"score": "2", "address": "198.124.238.134"}, {"score": "2", "address": "198.124.238.34"}, {"score": "2", "address": "198.124.252.106"}, {"score": "2", "address": "198.124.238.122"}, {"score": "2", "address": "198.129.254.74"}, {"score": "2", "address": "198.124.252.97"}, {"score": "2", "address": "198.129.254.62"}, {"score": "3", "address": "198.124.252.130"}, {"score": "3", "address": "198.124.238.18"}, {"score": "3", "address": "198.129.254.14"}, {"score": "3", "address": "198.124.238.158"}, {"score": "3", "address": "198.124.252.109"}, {"score": "3", "address": "198.124.252.101"}, {"score": "3", "address": "198.124.238.42"}, {"score": "3", "address": "198.124.238.38"}, {"score": "3", "address": "198.124.238.58"}, {"score": "3", "address": "198.129.254.66"}, {"score": "3", "address": "198.129.252.45"}, {"score": "3", "address": "198.124.238.102"}, {"score": "3", "address": "198.124.238.66"}, {"score": "3", "address": "198.124.238.62"}, {"score": "3", "address": "198.129.254.50"}, {"score": "3", "address": "198.124.252.146"}, {"score": "4", "address": "198.124.238.85"}, {"score": "4", "address": "198.124.238.166"}, {"score": "4", "address": "198.129.254.138"}, {"score": "4", "address": "198.129.254.102"}, {"score": "4", "address": "198.124.238.98"}, {"score": "4", "address": "198.129.254.6"}, {"score": "4", "address": "198.129.254.94"}, {"score": "4", "address": "198.124.238.154"}, {"score": "4", "address": "198.129.254.114"}, {"score": "4", "address": "198.124.238.49"}, {"score": "4", "address": "198.124.238.54"}, {"score": "4", "address": "198.124.238.106"}, {"score": "4", "address": "198.124.252.158"}, {"score": "4", "address": "198.129.254.54"}, {"score": "4", "address": "198.129.254.46"}, {"score": "5", "address": "198.129.254.134"}, {"score": "5", "address": "117.103.105.187"}, {"score": "5", "address": "198.129.254.30"}, {"score": "5", "address": "198.129.254.34"}, {"score": "5", "address": "198.129.252.142"}, {"score": "5", "address": "198.129.254.90"}, {"score": "5", "address": "138.26.220.65"}, {"score": "5", "address": "198.129.254.118"}, {"score": "5", "address": "198.129.254.82"}, {"score": "5", "address": "198.129.254.70"}, {"score": "5", "address": "198.129.254.166"}, {"score": "5", "address": "198.129.254.78"}, {"score": "5", "address": "198.124.238.114"}, {"score": "5", "address": "198.129.254.146"}, {"score": "5", "address": "198.129.254.58"}, {"score": "5", "address": "198.129.254.122"}, {"score": "5", "address": "198.129.254.42"}, {"score": "6", "address": "198.128.151.15"}, {"score": "6", "address": "198.128.151.17"}, {"score": "6", "address": "198.10.21.78"}, {"score": "6", "address": "198.129.254.142"}, {"score": "6", "address": "198.129.254.26"}, {"score": "6", "address": "132.160.6.178"}, {"score": "6", "address": "198.129.254.98"}, {"score": "6", "address": "198.129.254.174"}, {"score": "6", "address": "128.117.212.249"}, {"score": "6", "address": "131.243.246.66"}, {"score": "6", "address": "140.182.44.177"}, {"score": "6", "address": "140.182.44.92"}, {"score": "6", "address": "140.182.44.162"}, {"score": "6", "address": "198.129.252.78"}, {"score": "6", "address": "192.5.207.252"}, {"score": "6", "address": "207.75.164.240"}, {"score": "6", "address": "192.101.107.151"}, {"score": "7", "address": "128.55.199.18"}, {"score": "7", "address": "192.31.43.5"}, {"score": "7", "address": "128.117.132.12"}, {"score": "7", "address": "140.172.5.21"}, {"score": "7", "address": "192.12.15.23"}, {"score": "7", "address": "192.12.137.240"}, {"score": "7", "address": "198.129.254.178"}, {"score": "7", "address": "134.79.118.8"}, {"score": "7", "address": "198.129.254.150"}, {"score": "8", "address": "203.181.249.186"}, {"score": "8", "address": "134.75.125.242"}, {"score": "8", "address": "171.67.92.73"}, {"score": "8", "address": "198.202.105.14"}, {"score": "8", "address": "182.255.123.2"}, {"score": "9", "address": "140.182.45.184"}, {"score": "9", "address": "163.7.143.6"}, {"score": "10", "address": "204.99.128.11"}, {"score": "10", "address": "138.44.162.66"}, {"score": "10", "address": "157.82.112.69"}, {"score": "10", "address": "132.206.245.253"}, {"score": "10", "address": "130.87.105.175"}, {"score": "11", "address": "130.246.47.130"}, {"score": "11", "address": "130.246.176.110"}, {"score": "11", "address": "206.12.154.59"}, {"score": "11", "address": "150.244.247.3"}, {"score": "12", "address": "202.122.32.166"}, {"score": "12", "address": "155.101.66.2"}, {"score": "12", "address": "131.188.81.85"}, {"score": "12", "address": "202.90.129.130"}, {"score": "12", "address": "147.156.116.41"}, {"score": "12", "address": "194.36.11.37"}, {"score": "13", "address": "139.184.80.18"}, {"score": "13", "address": "144.206.236.188"}, {"score": "13", "address": "203.80.20.66"}, {"score": "13", "address": "129.215.213.69"}, {"score": "15", "address": "202.127.204.52"}, {"score": "15", "address": "155.101.3.61"}, {"score": "15", "address": "192.231.127.40"}, {"score": "15", "address": "131.111.66.196"}, {"score": "16", "address": "194.80.35.168"}, {"score": "16", "address": "85.122.31.73"}, {"score": "16", "address": "163.1.5.211"}, {"score": "17", "address": "138.253.60.81"}, {"score": "18", "address": "161.200.116.10"}, {"score": "18", "address": "202.28.43.143"}, {"score": "21", "address": "148.6.8.252"}], "149.165.255.194": [{"score": "4", "address": "140.182.44.177"}, {"score": "4", "address": "140.182.44.162"}, {"score": "4", "address": "140.182.44.92"}, {"score": "6", "address": "207.75.164.240"}, {"score": "7", "address": "140.182.45.184"}, {"score": "8", "address": "198.128.151.15"}, {"score": "8", "address": "198.128.151.17"}, {"score": "10", "address": "131.188.81.85"}], "134.55.49.58": [{"score": "1", "address": "198.129.254.62"}, {"score": "2", "address": "198.129.254.14"}, {"score": "2", "address": "198.124.238.34"}, {"score": "2", "address": "198.129.254.74"}, {"score": "2", "address": "198.129.252.45"}, {"score": "2", "address": "198.124.252.154"}, {"score": "2", "address": "198.129.254.50"}, {"score": "2", "address": "198.124.252.141"}, {"score": "3", "address": "198.129.254.138"}, {"score": "3", "address": "198.129.254.102"}, {"score": "3", "address": "198.129.254.6"}, {"score": "3", "address": "198.124.252.126"}, {"score": "3", "address": "198.129.254.94"}, {"score": "3", "address": "198.124.238.138"}, {"score": "3", "address": "198.124.252.106"}, {"score": "3", "address": "198.129.254.114"}, {"score": "3", "address": "198.124.238.122"}, {"score": "3", "address": "198.124.252.97"}, {"score": "3", "address": "198.129.254.54"}, {"score": "3", "address": "198.129.254.46"}, {"score": "4", "address": "198.129.254.134"}, {"score": "4", "address": "198.129.254.30"}, {"score": "4", "address": "198.129.254.34"}, {"score": "4", "address": "198.124.252.130"}, {"score": "4", "address": "198.124.238.18"}, {"score": "4", "address": "198.129.252.142"}, {"score": "4", "address": "198.124.238.158"}, {"score": "4", "address": "198.129.254.90"}, {"score": "4", "address": "198.124.252.109"}, {"score": "4", "address": "198.124.252.101"}, {"score": "4", "address": "198.129.254.118"}, {"score": "4", "address": "198.129.254.82"}, {"score": "4", "address": "198.124.238.42"}, {"score": "4", "address": "198.129.254.70"}, {"score": "4", "address": "198.124.238.38"}, {"score": "4", "address": "198.129.254.166"}, {"score": "4", "address": "198.129.254.78"}, {"score": "4", "address": "198.124.238.114"}, {"score": "4", "address": "198.124.238.58"}, {"score": "4", "address": "198.124.238.102"}, {"score": "4", "address": "198.124.238.66"}, {"score": "4", "address": "198.124.238.62"}, {"score": "4", "address": "198.129.254.146"}, {"score": "4", "address": "198.129.254.58"}, {"score": "4", "address": "198.129.254.122"}, {"score": "4", "address": "198.124.252.146"}, {"score": "4", "address": "198.129.254.42"}, {"score": "5", "address": "198.124.238.85"}, {"score": "5", "address": "198.124.238.166"}, {"score": "5", "address": "198.128.151.15"}, {"score": "5", "address": "198.128.151.17"}, {"score": "5", "address": "198.10.21.78"}, {"score": "5", "address": "198.129.254.142"}, {"score": "5", "address": "198.124.238.98"}, {"score": "5", "address": "198.129.254.26"}, {"score": "5", "address": "132.160.6.178"}, {"score": "5", "address": "198.129.254.98"}, {"score": "5", "address": "198.124.238.154"}, {"score": "5", "address": "198.129.254.174"}, {"score": "5", "address": "128.117.212.249"}, {"score": "5", "address": "198.124.238.49"}, {"score": "5", "address": "164.58.29.118"}, {"score": "5", "address": "198.124.238.54"}, {"score": "5", "address": "131.243.246.66"}, {"score": "5", "address": "198.124.238.106"}, {"score": "5", "address": "198.124.252.158"}, {"score": "5", "address": "198.129.252.78"}, {"score": "5", "address": "192.101.107.151"}, {"score": "6", "address": "117.103.105.187"}, {"score": "6", "address": "128.55.199.18"}, {"score": "6", "address": "192.31.43.5"}, {"score": "6", "address": "138.26.220.65"}, {"score": "6", "address": "128.117.132.12"}, {"score": "6", "address": "140.172.5.21"}, {"score": "6", "address": "192.12.137.240"}, {"score": "6", "address": "198.129.254.178"}, {"score": "6", "address": "134.79.118.8"}, {"score": "6", "address": "198.129.254.150"}, {"score": "7", "address": "203.181.249.186"}, {"score": "7", "address": "134.75.125.242"}, {"score": "7", "address": "140.182.44.177"}, {"score": "7", "address": "140.182.44.92"}, {"score": "7", "address": "171.67.92.73"}, {"score": "7", "address": "140.182.44.162"}, {"score": "7", "address": "198.202.105.14"}, {"score": "7", "address": "192.5.207.252"}, {"score": "7", "address": "182.255.123.2"}, {"score": "7", "address": "207.75.164.240"}, {"score": "8", "address": "204.99.128.11"}, {"score": "8", "address": "163.7.143.6"}, {"score": "8", "address": "192.12.15.23"}, {"score": "9", "address": "138.44.162.66"}, {"score": "9", "address": "157.82.112.69"}, {"score": "9", "address": "130.87.105.175"}, {"score": "10", "address": "140.182.45.184"}, {"score": "10", "address": "198.124.252.121"}, {"score": "10", "address": "206.12.154.59"}, {"score": "11", "address": "202.122.32.166"}, {"score": "11", "address": "155.101.66.2"}, {"score": "11", "address": "202.90.129.130"}, {"score": "11", "address": "132.206.245.253"}, {"score": "12", "address": "130.246.47.130"}, {"score": "12", "address": "130.246.176.110"}, {"score": "12", "address": "203.80.20.66"}, {"score": "12", "address": "150.244.247.3"}, {"score": "13", "address": "131.188.81.85"}, {"score": "13", "address": "147.156.116.41"}, {"score": "13", "address": "194.36.11.37"}, {"score": "14", "address": "139.184.80.18"}, {"score": "14", "address": "202.127.204.52"}, {"score": "14", "address": "144.206.236.188"}, {"score": "14", "address": "155.101.3.61"}, {"score": "14", "address": "192.231.127.40"}, {"score": "14", "address": "129.215.213.69"}, {"score": "16", "address": "131.111.66.196"}, {"score": "17", "address": "194.80.35.168"}, {"score": "17", "address": "85.122.31.73"}, {"score": "17", "address": "163.1.5.211"}, {"score": "17", "address": "161.200.116.10"}, {"score": "17", "address": "202.28.43.143"}, {"score": "18", "address": "138.253.60.81"}, {"score": "22", "address": "148.6.8.252"}], "134.55.37.49": [{"score": "2", "address": "198.129.252.142"}, {"score": "2", "address": "198.129.254.30"}, {"score": "3", "address": "198.128.151.15"}, {"score": "3", "address": "198.128.151.17"}, {"score": "4", "address": "198.129.254.102"}, {"score": "6", "address": "198.124.238.102"}, {"score": "6", "address": "198.124.252.97"}, {"score": "6", "address": "198.124.238.66"}, {"score": "7", "address": "198.124.238.106"}, {"score": "7", "address": "198.124.238.98"}, {"score": "7", "address": "198.124.252.101"}, {"score": "8", "address": "198.124.238.58"}, {"score": "9", "address": "207.75.164.240"}, {"score": "9", "address": "140.182.44.162"}, {"score": "9", "address": "140.182.44.177"}, {"score": "10", "address": "140.182.44.92"}, {"score": "10", "address": "198.124.238.49"}, {"score": "12", "address": "140.182.45.184"}, {"score": "15", "address": "131.188.81.85"}], "149.165.254.121": [{"score": "2", "address": "149.165.227.125"}, {"score": "3", "address": "198.124.252.121"}, {"score": "4", "address": "198.124.238.18"}, {"score": "5", "address": "198.124.238.54"}, {"score": "5", "address": "140.182.44.177"}, {"score": "5", "address": "140.182.44.162"}, {"score": "5", "address": "140.182.44.92"}, {"score": "7", "address": "198.128.151.15"}, {"score": "7", "address": "198.128.151.17"}, {"score": "8", "address": "140.182.45.184"}], "198.128.151.1": [{"score": "1", "address": "198.128.151.15"}, {"score": "1", "address": "198.128.151.17"}, {"score": "11", "address": "207.75.164.240"}, {"score": "11", "address": "140.182.44.177"}, {"score": "11", "address": "140.182.44.162"}, {"score": "11", "address": "140.182.44.92"}, {"score": "14", "address": "140.182.45.184"}, {"score": "17", "address": "131.188.81.85"}], "134.55.50.202": [{"score": "2", "address": "198.129.254.102"}, {"score": "2", "address": "198.129.254.94"}, {"score": "2", "address": "198.129.254.62"}, {"score": "3", "address": "198.129.254.134"}, {"score": "3", "address": "198.129.254.30"}, {"score": "3", "address": "198.129.254.34"}, {"score": "3", "address": "198.129.254.146"}, {"score": "3", "address": "198.129.252.142"}, {"score": "3", "address": "198.129.254.90"}, {"score": "3", "address": "198.129.254.118"}, {"score": "3", "address": "198.129.254.74"}, {"score": "3", "address": "198.129.254.78"}, {"score": "3", "address": "198.124.252.154"}, {"score": "3", "address": "198.129.254.58"}, {"score": "3", "address": "198.129.254.122"}, {"score": "3", "address": "198.124.252.141"}, {"score": "3", "address": "198.129.254.42"}, {"score": "4", "address": "198.128.151.15"}, {"score": "4", "address": "198.128.151.17"}, {"score": "4", "address": "198.129.254.142"}, {"score": "4", "address": "198.129.254.26"}, {"score": "4", "address": "131.243.246.66"}, {"score": "4", "address": "198.129.254.98"}, {"score": "4", "address": "198.124.238.34"}, {"score": "4", "address": "198.124.238.122"}, {"score": "4", "address": "198.124.252.97"}, {"score": "4", "address": "198.129.254.174"}, {"score": "4", "address": "198.10.21.78"}, {"score": "4", "address": "198.129.252.78"}, {"score": "5", "address": "128.55.199.18"}, {"score": "5", "address": "198.124.238.18"}, {"score": "5", "address": "192.31.43.5"}, {"score": "5", "address": "198.124.238.158"}, {"score": "5", "address": "198.124.252.101"}, {"score": "5", "address": "198.124.238.42"}, {"score": "5", "address": "198.124.238.58"}, {"score": "5", "address": "192.12.137.240"}, {"score": "5", "address": "198.129.254.178"}, {"score": "5", "address": "198.124.238.102"}, {"score": "5", "address": "198.124.238.66"}, {"score": "5", "address": "198.124.238.62"}, {"score": "5", "address": "134.79.118.8"}, {"score": "5", "address": "198.129.254.150"}, {"score": "6", "address": "203.181.249.186"}, {"score": "6", "address": "198.124.238.98"}, {"score": "6", "address": "132.160.6.178"}, {"score": "6", "address": "134.75.125.242"}, {"score": "6", "address": "198.124.238.49"}, {"score": "6", "address": "164.58.29.118"}, {"score": "6", "address": "198.124.238.54"}, {"score": "6", "address": "198.124.238.106"}, {"score": "6", "address": "198.124.252.158"}, {"score": "6", "address": "171.67.92.73"}, {"score": "6", "address": "198.202.105.14"}, {"score": "6", "address": "182.255.123.2"}, {"score": "7", "address": "117.103.105.187"}, {"score": "7", "address": "163.7.143.6"}, {"score": "7", "address": "192.12.15.23"}, {"score": "8", "address": "204.99.128.11"}, {"score": "8", "address": "138.44.162.66"}, {"score": "8", "address": "157.82.112.69"}, {"score": "8", "address": "140.182.44.177"}, {"score": "8", "address": "140.182.44.92"}, {"score": "8", "address": "140.182.44.162"}, {"score": "8", "address": "192.5.207.252"}, {"score": "8", "address": "130.87.105.175"}, {"score": "8", "address": "207.75.164.240"}, {"score": "10", "address": "202.122.32.166"}, {"score": "10", "address": "202.90.129.130"}, {"score": "11", "address": "140.182.45.184"}, {"score": "11", "address": "155.101.66.2"}, {"score": "11", "address": "198.124.252.121"}, {"score": "11", "address": "203.80.20.66"}, {"score": "12", "address": "132.206.245.253"}, {"score": "13", "address": "202.127.204.52"}, {"score": "13", "address": "130.246.47.130"}, {"score": "13", "address": "150.244.247.3"}, {"score": "13", "address": "130.246.176.110"}, {"score": "14", "address": "131.188.81.85"}, {"score": "14", "address": "155.101.3.61"}, {"score": "14", "address": "147.156.116.41"}, {"score": "14", "address": "194.36.11.37"}, {"score": "15", "address": "139.184.80.18"}, {"score": "15", "address": "144.206.236.188"}, {"score": "15", "address": "192.231.127.40"}, {"score": "15", "address": "129.215.213.69"}, {"score": "16", "address": "161.200.116.10"}, {"score": "16", "address": "202.28.43.143"}, {"score": "18", "address": "194.80.35.168"}, {"score": "18", "address": "85.122.31.73"}, {"score": "18", "address": "163.1.5.211"}, {"score": "19", "address": "138.253.60.81"}, {"score": "23", "address": "148.6.8.252"}], "140.182.44.92": [{"score": 0, "address": "140.182.44.92"}, {"score": "1", "address": "140.182.44.177"}, {"score": "1", "address": "140.182.44.162"}, {"score": "5", "address": "140.182.45.184"}, {"score": "5", "address": "140.182.45.175"}, {"score": "10", "address": "207.75.164.240"}, {"score": "12", "address": "198.128.151.15"}, {"score": "12", "address": "198.128.151.17"}, {"score": "14", "address": "131.188.81.85"}], "134.68.3.147": [{"score": "1", "address": "140.182.44.177"}, {"score": "1", "address": "140.182.44.162"}, {"score": "1", "address": "140.182.44.92"}, {"score": "4", "address": "140.182.45.184"}, {"score": "4", "address": "129.79.9.85"}, {"score": "4", "address": "140.182.45.175"}, {"score": "5", "address": "192.41.230.62"}, {"score": "7", "address": "207.75.164.240"}, {"score": "10", "address": "198.128.151.17"}, {"score": "11", "address": "198.128.151.15"}, {"score": "13", "address": "131.188.81.85"}], "149.165.254.234": [{"score": "3", "address": "140.182.44.177"}, {"score": "3", "address": "140.182.44.162"}, {"score": "3", "address": "140.182.44.92"}, {"score": "6", "address": "140.182.45.184"}, {"score": "7", "address": "207.75.164.240"}, {"score": "9", "address": "198.128.151.15"}, {"score": "9", "address": "198.128.151.17"}, {"score": "11", "address": "131.188.81.85"}], "198.129.100.1": [{"score": "2", "address": "198.128.151.15"}, {"score": "2", "address": "198.128.151.17"}, {"score": "10", "address": "207.75.164.240"}, {"score": "10", "address": "140.182.44.177"}, {"score": "10", "address": "140.182.44.162"}, {"score": "10", "address": "140.182.44.92"}, {"score": "13", "address": "140.182.45.184"}, {"score": "16", "address": "131.188.81.85"}]}
```
Finally, you can explcitily set the cache server (default perfsonar-dev.es.net) with the `-s SERVER` option:

```bash
pslocate -s perfsonar-cache.mydomain.example 198.128.151.1 198.129.100.1 134.55.37.49 134.55.50.202 134.55.49.58 134.55.43.81 149.165.254.121 149.165.255.194 149.165.254.234 134.68.3.34 134.68.3.147 140.182.44.92
...
```

##Installing the Web Service
The package currently contains an optional web service that can take a list of IPs or raw traceroute as JSON and provide the result in JSON. To install you need apache and to manually run the folloiwng commands:

After running those restart apache and you should be able to issue requests at *http://yourhost/pslocate/search.

You can do a simple GET request like follows:
```bash
#single ip
curl http://127.0.0.1/pslocate/search?ip=198.128.151.1 198.129.100.1
#multiple ips
curl http://127.0.0.1/pslocate/search?ip=198.128.151.1 198.129.100.1&ip=134.55.37.49&ip=134.55.50.202
```
or you can do a POST

```bash
curl -H "Content-Type: application/json" -X POST -d '{"filter-type": "ips", "filter":["198.128.151.1"]}' http://127.0.0.1/pslocate/search
```

See the JSON schema files under `schemas` for more information.

##Packaging
You may create a source tarball of this code with the following:

```bash
python setup.py sdist
```

